<article>

<h1>designing a proof of concept level</h1>
<time datetime="2021-03-30">2021-03-30</time>

<blockquote>a puzzle a day keeps the doctor away</blockquote>

<p>
  i sketched out a simple puzzle the other night, looking for inspiration.
  i thought it'd be simple enough to turn into a basic kq puzzle.
</p>

<p>here is what we will be working with:</p>

<figure>
  <img src="images/2021-03-30_1.jpeg" />
</figure>

<p>first, i made a room outline that looks like this:</p>

<pre>
##################
##👼..:4==??..01##
##....:2==??..01##
##....:1==??..01##
##..............##
##🔒🚪############
##......##🐑🐑🐑##
##..💎..##🐑🐑🐑##
##......##🐑🐑🐑##
##################
</pre>

the following types are used:
<ul>
  <li><code>👼</code>: you. using walk moves you around.</li>
  <li><code>🐑</code>: sheep. you can count them to fall asleep.</li>
  <li><code>🔒🚪</code>: locked door. unlock by entering the right passcode.</li>
  <li><code>💎</code>: gem. reach this to beat the level.</li>
  <li><code>..</code>: floor. this is where you can walk on.</li>
  <li><code>##</code>: wall. blocks your movement.</li>
  <li><code>:N==</code>: register index. gives meaning to the position.</li>
  <li><code>??</code>: register. takes a number.</li>
  <li><code>01</code>: number. a 2 digit hex value. (00-FF)</li>
</ul>

<p>
i added a door and a gem to make the objective visual and clear.
the goal is to unlock the door and reach the gem. to unlock the door, you need to fill the register with right values ("to enter the passcode").
</p>

<p>
i kind of cheated when making this room outline. registers are not a thing in the game yet. but we're gonna need it to solve this puzzle. so how does this thing work?
</p>

<p>
at first, i thought i was going to present registers like this:
</p>
<pre><code>
:N
??

</code></pre>

<p>
and this is fine, i guess. but what this represents is some kind of a key value pair data structure. that means we will be typically accessing both cells at the same time. in keeping with the way holding items work, i decide to make this type horizontal instead: 
</p>

<pre><code>
:N==??
</code></pre>

<p>
it costs us an extra cell, but now when we need a back or forward reference
we can do all of our operations on the same line. we also get to stack each register on top of each other and gain some nice semantic properties. 
</p>

<p>
i'm not -quite- satisfied with this idea of registers, but it should get us at least through the level of this design, and the idea can always be improved later.
</p>

<p>
when solving the room, you can complete the tasks by hand (by making deductions and editing the right cells), or you can use the runtime language to transform the room until it's in a solved state. the later is the intended way, but both would technically work.
</p>

<details>
<summary>the solved room would look like this (spoiler)</summary>
<pre>
##################
##....:4==02....##
##....:2==??....##
##....:1==01....##
##..............##
##....############
##......##🐑🐑🐑##
##..👼..##🐑🐑🐑##
##......##🐑🐑🐑##
##################
</pre>
<p>or</p>
<code>md5: e9940a275b0c6766336a355747fcee48</code>
</details>

</article>
